(()=>{var e={};e.id=5582,e.ids=[5582],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},2883:(e,t,r)=>{Promise.resolve().then(r.bind(r,48527))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{"use strict";e.exports=require("node:tty")},9517:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\nextjs\\\\e-commerce-store\\\\my-app\\\\app\\\\success\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\nextjs\\e-commerce-store\\my-app\\app\\success\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19915:(e,t,r)=>{Promise.resolve().then(r.bind(r,9517))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},48161:e=>{"use strict";e.exports=require("node:os")},48527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(60687),a=r(16189),i=r(43210),o=r(30474),n=r(59821),d=r(71423),c=r(24934);function l(){let{clearCart:e}=(0,d._)(),t=(0,a.useRouter)();(0,a.useSearchParams)().get("session_id");let[r,l]=(0,i.useState)(null),[u,p]=(0,i.useState)(!0);if(u)return(0,s.jsx)("div",{className:"py-20 text-center",children:"Loading your receiptâ€¦"});if(!r)return(0,s.jsx)("div",{className:"py-20 text-center text-red-500",children:"No payment info found."});let m=(e,t)=>`${t} ${(e/100).toLocaleString("en-LK")}`;return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto mt-16 p-6 bg-white rounded-lg shadow border",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-primary mb-2",children:"Payment Successful!"}),(0,s.jsx)("p",{className:"mb-6 text-muted-foreground",children:"Thank you for your purchase. Your order details are below."}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"mb-2 font-semibold",children:"Customer:"}),r.customer_details?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:r.customer_details.name}),(0,s.jsx)("div",{className:"text-muted-foreground",children:r.customer_details.email})]}):(0,s.jsx)("div",{children:"Customer info unavailable"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"mb-2 font-semibold",children:"Order:"}),r.line_items&&(0,s.jsx)("ul",{className:"space-y-3",children:r.line_items.data.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-4 bg-gray-50 rounded p-2",children:[e.price?.product?.images?.[0]&&(0,s.jsx)(o.default,{src:e.price.product.images[0],alt:e.description,width:56,height:56,className:"object-cover rounded"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.description}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Qty: ",e.quantity]}),e.price.product.metadata?.brand&&(0,s.jsx)(n.E,{className:"mr-1",children:e.price.product.metadata.brand}),e.price.product.metadata?.category&&(0,s.jsx)(n.E,{variant:"outline",children:e.price.product.metadata.category})]}),(0,s.jsx)("div",{className:"font-semibold text-primary",children:m(e.amount_total,r.currency)})]},e.id))})]}),(0,s.jsx)("div",{className:"border-t pt-4 mt-8 text-right",children:(0,s.jsxs)("span",{className:"text-lg font-bold",children:["Total: ",m(r.amount_total,r.currency)]})}),(0,s.jsx)(c.$,{onClick:()=>t.push("/"),className:"mt-6",variant:"default",children:"Back to Shop"})]})}},51455:e=>{"use strict";e.exports=require("node:fs/promises")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},74004:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c={children:["",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9517)),"C:\\nextjs\\e-commerce-store\\my-app\\app\\success\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\nextjs\\e-commerce-store\\my-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["C:\\nextjs\\e-commerce-store\\my-app\\app\\success\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/success/page",pathname:"/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,4553,4999,5473,1658,9464,6909],()=>r(74004));module.exports=s})();