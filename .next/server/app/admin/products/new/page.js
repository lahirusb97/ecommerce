(()=>{var e={};e.id=9770,e.ids=[9770],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{"use strict";e.exports=require("node:tty")},8254:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["admin",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43673)),"C:\\nextjs\\e-commerce-store\\my-app\\app\\admin\\products\\new\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\nextjs\\e-commerce-store\\my-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\nextjs\\e-commerce-store\\my-app\\app\\admin\\products\\new\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/products/new/page",pathname:"/admin/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},37225:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\nextjs\\\\e-commerce-store\\\\my-app\\\\app\\\\admin\\\\products\\\\new\\\\ProductCreateForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\nextjs\\e-commerce-store\\my-app\\app\\admin\\products\\new\\ProductCreateForm.tsx","default")},39390:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(60687),s=r(43210),n=r(78148),i=r(96241);let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(n.b,{ref:r,className:(0,i.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));o.displayName=n.b.displayName},43673:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(37413),s=r(37225);async function n(){return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto p-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-1",children:"Create New Product"}),(0,a.jsx)(s.default,{})]})}},45228:(e,t,r)=>{Promise.resolve().then(r.bind(r,57217))},48161:e=>{"use strict";e.exports=require("node:os")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},55365:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=e=>e instanceof Error&&"code"in e&&"string"==typeof e.code},57217:(e,t,r)=>{"use strict";r.d(t,{default:()=>H});var a=r(60687),s=r(27605),n=r(63442),i=r(6475);let o=(0,i.createServerReference)("403eda31aed2c3a1a55e7076a1ad23ba5804e7aa91",i.callServer,void 0,i.findSourceMapURL,"createProduct");var l=r(45880);let d=l.z.object({optionId:l.z.string().min(1),valueId:l.z.string().min(1)}),c=l.z.object({sku:l.z.string().min(1,"SKU is required"),price:l.z.coerce.number().positive("Price must be > 0"),stockQty:l.z.coerce.number().int().nonnegative("Stock ≥ 0"),imageUrl:l.z.string().url().optional(),publicId:l.z.string().optional(),values:l.z.array(d).min(1,"At least one option")}),u=l.z.object({name:l.z.string().min(1,"Name is required"),slug:l.z.string().min(1,"Slug is required"),description:l.z.string().optional(),categoryId:l.z.string().min(1,"Select a category"),brandId:l.z.string().optional(),variants:l.z.array(c).min(1,"At least one variant"),productCategoryIds:l.z.array(l.z.string()).optional()});var p=r(43210),m=r(63974),x=r(68988),h=r(96241);function g({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,h.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}let f=()=>{let[e,t]=(0,p.useState)([]),[r,a]=(0,p.useState)(!0),[s,n]=(0,p.useState)(!1),[i,o]=(0,p.useState)({search:null}),l=(0,p.useRef)(null),d=(0,p.useCallback)(async()=>{l.current&&l.current.abort();let e=new AbortController;l.current=e,a(!0),n(!1);try{let r=Object.fromEntries(Object.entries(i).filter(([,e])=>null!=e&&""!==e)).toString(),a=new URLSearchParams(r),s=await fetch(`/api/categories/?${a}`,{method:"GET",signal:e.signal});if(!s.ok)throw Error("Failed to fetch categories");let n=await s.json();e.signal.aborted||t(n)}catch(t){console.error("Error fetching categories:",t),e.signal.aborted||n(!0)}finally{a(!1)}},[i]);return(0,p.useEffect)(()=>(d(),()=>{l.current&&l.current.abort()}),[d]),{categories:e,categoriesLoading:r,categoriesError:s,refresh:d,setCategoryParamsData:e=>{o(t=>({...t,...e}))}}};var b=r(98599),v=r(11273),j=r(70569),y=r(65551),w=r(83721),k=r(18853),N=r(46059),C=r(14163),I="Checkbox",[z,P]=(0,v.A)(I),[S,_]=z(I);function q(e){let{__scopeCheckbox:t,checked:r,children:s,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:c,value:u="on",internal_do_not_use_render:m}=e,[x,h]=(0,y.i)({prop:r,defaultProp:n??!1,onChange:d,caller:I}),[g,f]=p.useState(null),[b,v]=p.useState(null),j=p.useRef(!1),w=!g||!!o||!!g.closest("form"),k={checked:x,disabled:i,setChecked:h,control:g,setControl:f,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:j,required:c,defaultChecked:!D(n)&&n,isFormControl:w,bubbleInput:b,setBubbleInput:v};return(0,a.jsx)(S,{scope:t,...k,children:"function"==typeof m?m(k):s})}var E="CheckboxTrigger",$=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},n)=>{let{control:i,value:o,disabled:l,checked:d,required:c,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:h,bubbleInput:g}=_(E,e),f=(0,b.s)(n,u),v=p.useRef(d);return p.useEffect(()=>{let e=i?.form;if(e){let t=()=>m(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,m]),(0,a.jsx)(C.sG.button,{type:"button",role:"checkbox","aria-checked":D(d)?"mixed":d,"aria-required":c,"data-state":M(d),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:f,onKeyDown:(0,j.m)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,j.m)(r,e=>{m(e=>!!D(e)||!e),g&&h&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});$.displayName=E;var A=p.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:c,form:u,...p}=e;return(0,a.jsx)(q,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:c,name:s,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{...p,ref:t,__scopeCheckbox:r}),e&&(0,a.jsx)(G,{__scopeCheckbox:r})]})})});A.displayName=I;var R="CheckboxIndicator",U=p.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,i=_(R,r);return(0,a.jsx)(N.C,{present:s||D(i.checked)||!0===i.checked,children:(0,a.jsx)(C.sG.span,{"data-state":M(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});U.displayName=R;var F="CheckboxBubbleInput",G=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:s,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:c,value:u,form:m,bubbleInput:x,setBubbleInput:h}=_(F,e),g=(0,b.s)(r,h),f=(0,w.Z)(i),v=(0,k.X)(s);p.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!n.current;if(f!==i&&e){let r=new Event("click",{bubbles:t});x.indeterminate=D(i),e.call(x,!D(i)&&i),x.dispatchEvent(r)}},[x,f,i,n]);let j=p.useRef(!D(i)&&i);return(0,a.jsx)(C.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:d,name:c,value:u,form:m,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function D(e){return"indeterminate"===e}function M(e){return D(e)?"indeterminate":e?"checked":"unchecked"}G.displayName=F;var L=r(13964);function O({className:e,...t}){return(0,a.jsx)(A,{"data-slot":"checkbox",className:(0,h.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(U,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(L.A,{className:"size-3.5"})})})}var T=r(39390);function B({categories:e,fieldName:t="productCategoryIds"}){let{control:r}=(0,s.xW)();return(0,a.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-2 mt-2 space-y-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-neutral-700 mb-1",children:"SubCategories"}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mb-3",children:"Choose a main category and any additional subcategories. Main category is used for store organization, others for filters/search."}),(0,a.jsx)(s.xI,{name:t,control:r,render:({field:t})=>(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O,{id:`cat-${e.id}`,checked:t.value?.includes(e.id)||!1,onCheckedChange:r=>{r?t.onChange([...t.value||[],e.id]):t.onChange((t.value||[]).filter(t=>t!==e.id))}}),(0,a.jsx)(T.J,{htmlFor:`cat-${e.id}`,children:e.name})]},e.id))})})]})}function Q(){let{categories:e,categoriesLoading:t}=f(),{brands:r,brandsLoading:n}=function(){let[e,t]=(0,p.useState)([]),[r,a]=(0,p.useState)(!0),[s,n]=(0,p.useState)(!1),i=(0,p.useRef)(null),o=(0,p.useCallback)(async()=>{i.current&&i.current.abort();let e=new AbortController;i.current=e,a(!0),n(!1);try{let r=await fetch("/api/brand",{method:"GET",signal:e.signal});if(!r.ok)throw Error(`Failed to fetch brands (${r.status})`);let a=await r.json();e.signal.aborted||t(a)}catch(t){e.signal.aborted||(console.error("Error fetching brands:",t),n(!0))}finally{i.current?.signal.aborted||a(!1)}},[]);return{brands:e,brandsLoading:r,brandsError:s,refresh:o}}(),{register:i,control:o,formState:{errors:l}}=(0,s.xW)();return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"Name"}),(0,a.jsx)(x.p,{...i("name")}),l.name&&(0,a.jsx)("p",{className:"text-red-600",children:l.name.message?.toString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"Slug"}),(0,a.jsx)(x.p,{...i("slug")}),l.slug&&(0,a.jsx)("p",{className:"text-red-600",children:l.slug.message?.toString()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"Description"}),(0,a.jsx)(g,{...i("description"),rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"Main Category"}),(0,a.jsx)(s.xI,{name:"categoryId",control:o,render:({field:r})=>(0,a.jsxs)(m.l6,{disabled:t,onValueChange:e=>r.onChange(e),value:r.value,children:[(0,a.jsx)(m.bq,{className:"w-full",children:(0,a.jsx)(m.yv,{placeholder:"Select category …"})}),(0,a.jsx)(m.gC,{children:e.map(e=>(0,a.jsx)(m.eb,{value:e.id.toString(),children:e.name},e.id))})]})}),l.categoryId&&(0,a.jsx)("p",{className:"text-red-600",children:l.categoryId.message?.toString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"Brand (optional)"}),(0,a.jsx)(s.xI,{name:"brandId",control:o,render:({field:e})=>(0,a.jsxs)(m.l6,{disabled:n,onValueChange:t=>e.onChange(t),value:e.value,children:[(0,a.jsx)(m.bq,{className:"w-full",children:(0,a.jsx)(m.yv,{placeholder:"— none —"})}),(0,a.jsx)(m.gC,{children:r.map(e=>(0,a.jsx)(m.eb,{value:e.id,children:e.name},e.id))})]})})]})]}),(0,a.jsx)(B,{categories:e})]})}var V=r(24934),K=r(30474);function W({value:e,publicId:t,onUploaded:r,onPublicIdChange:s}){let[n,i]=(0,p.useState)(!1),o=(0,p.useRef)(null);async function l(e){let a=e.target.files?.[0];if(!a)return;i(!0),t&&await fetch("/api/delete-img",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_id:t})});let n=new FormData;n.append("file",a);let o=await fetch("/api/upload",{method:"POST",body:n}),l=await o.json();l.url&&l.public_id&&(r(l.url),s(l.public_id)),i(!1)}return(0,a.jsxs)("div",{className:"space-y-2 flex items-center gap-2",children:[(0,a.jsx)(x.p,{type:"file",accept:"image/*",onChange:l,ref:o,disabled:n}),(0,a.jsx)(V.$,{type:"button",onClick:()=>o.current?.click(),disabled:n,children:n?"Uploading...":e?"Change Image":"Upload Image"}),e&&(0,a.jsx)(K.default,{src:e,alt:"variant",width:60,height:60,className:"rounded shadow"})]})}function J(){let{variantOptionsValues:e,variantOptionsValuesLoading:t}=function(){let[e,t]=(0,p.useState)([]),[r,a]=(0,p.useState)(!0),[s,n]=(0,p.useState)(!1),i=(0,p.useRef)(null),o=(0,p.useCallback)(async()=>{i.current&&i.current.abort();let e=new AbortController;i.current=e,a(!0),n(!1);try{let r=await fetch("/api/variant-options-values",{method:"GET",signal:e.signal});if(!r.ok)throw Error(`Failed to fetch variant options (${r.status})`);let a=await r.json();e.signal.aborted||t(a)}catch(t){e.signal.aborted||(console.error("Error fetching variant options:",t),n(!0))}finally{i.current?.signal.aborted||a(!1)}},[]);return{variantOptionsValues:e,variantOptionsValuesLoading:r,variantOptionsValuesError:s,variantOptionsValuesRefresh:o}}(),{control:r,register:n,setValue:i,watch:o}=(0,s.xW)(),{fields:l,append:d,remove:c}=(0,s.jz)({control:r,name:"variants"});return(0,a.jsxs)("div",{children:[l.map((d,u)=>(0,a.jsxs)("div",{className:"mb-6 rounded-xl border border-neutral-200 bg-gray-50 p-4 shadow-sm space-y-1",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:`sku-${d.id}`,className:"block text-sm font-medium mb-1",children:"SKU"}),(0,a.jsx)(x.p,{id:`sku-${d.id}`,className:"w-full",...n(`variants.${u}.sku`),placeholder:"Enter SKU"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:`price-${d.id}`,className:"block text-sm font-medium mb-1",children:"Price"}),(0,a.jsx)(x.p,{id:`price-${d.id}`,className:"w-full",type:"number",step:"0.01",...n(`variants.${u}.price`,{valueAsNumber:!0}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:`stockQty-${d.id}`,className:"block text-sm font-medium mb-1",children:"Qty"}),(0,a.jsx)(x.p,{id:`stockQty-${d.id}`,className:"w-full",type:"number",...n(`variants.${u}.stockQty`,{valueAsNumber:!0}),placeholder:"0"})]}),(0,a.jsx)("div",{})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:`imageUrl-${d.id}`,className:"block text-sm font-medium mb-1",children:"Image URL"}),(0,a.jsx)(s.xI,{name:`variants.${u}.imageUrl`,control:r,render:({field:e})=>(0,a.jsx)(W,{value:e.value,publicId:o(`variants.${u}.publicId`),onUploaded:t=>e.onChange(t),onPublicIdChange:e=>i(`variants.${u}.publicId`,e)})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:l[u].values?.map((n,i)=>{let o=e?.find(e=>e.id===n.optionId);return o?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:o.name}),(0,a.jsx)(s.xI,{name:`variants.${u}.values.${i}.valueId`,control:r,render:({field:e})=>(0,a.jsxs)(m.l6,{disabled:t,value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(m.bq,{className:"w-full",children:(0,a.jsx)(m.yv,{placeholder:`Select ${o.name}`})}),(0,a.jsx)(m.gC,{children:o.values.map(e=>(0,a.jsx)(m.eb,{value:e.id,children:e.value},e.id))})]})})]},o.id):null})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(V.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(u),children:"Remove"})})]},d.id)),(0,a.jsx)(V.$,{size:"xsm",type:"button",variant:"outline",className:"",onClick:()=>d({sku:"",price:0,stockQty:0,imageUrl:"",values:(e||[]).map(e=>({optionId:e.id,valueId:""}))}),disabled:!e?.length,children:"+ Add Variant"})]})}var X=r(52581),Z=r(16189);function H(){let e=(0,Z.useRouter)(),t=(0,s.mN)({resolver:(0,n.u)(u),defaultValues:{variants:[]}}),{handleSubmit:r}=t,i=async t=>{await o(t),X.oR.success("Product created successfully"),e.refresh()};return console.log(t.formState.errors),(0,a.jsx)(s.Op,{...t,children:(0,a.jsxs)("form",{onSubmit:r(i),className:"space-y-2",children:[(0,a.jsx)(Q,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-2",children:"Variants"}),(0,a.jsx)(J,{})]}),(0,a.jsx)(V.$,{className:"w-full",type:"submit",children:"Create Product"})]})})}},57975:e=>{"use strict";e.exports=require("node:util")},58380:(e,t,r)=>{Promise.resolve().then(r.bind(r,37225))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>m,gC:()=>p,l6:()=>d,yv:()=>c});var a=r(60687);r(43210);var s=r(25911),n=r(78272),i=r(13964),o=r(3589),l=r(96241);function d({...e}){return(0,a.jsx)(s.bL,{"data-slot":"select",...e})}function c({...e}){return(0,a.jsx)(s.WT,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:r,...i}){return(0,a.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":t,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[r,(0,a.jsx)(s.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function p({className:e,children:t,position:r="popper",...n}){return(0,a.jsx)(s.ZL,{children:(0,a.jsxs)(s.UC,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(s.LM,{className:(0,l.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(h,{})]})})}function m({className:e,children:t,...r}){return(0,a.jsxs)(s.q7,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(s.p4,{children:t})]})}function x({className:e,...t}){return(0,a.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(o.A,{className:"size-4"})})}function h({className:e,...t}){return(0,a.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78148:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var a=r(43210),s=r(14163),n=r(60687),i=a.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},81481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"403eda31aed2c3a1a55e7076a1ad23ba5804e7aa91":()=>i});var a=r(91199);r(42087);var s=r(28953),n=r(55365);async function i(e){try{let t=await s.z.product.create({data:{name:e.name,slug:e.slug,description:e.description??void 0,category:{connect:{id:BigInt(e.categoryId)}},brand:e.brandId?{connect:{id:BigInt(e.brandId)}}:void 0,variants:{create:e.variants.map(e=>({sku:e.sku,price:e.price,stockQty:e.stockQty,imageUrl:e.imageUrl||void 0,values:{create:e.values.map(e=>({optionId:BigInt(e.optionId),valueId:BigInt(e.valueId)}))}}))}}});return e.productCategoryIds&&e.productCategoryIds.length&&await s.z.productCategory.createMany({data:e.productCategoryIds.map(e=>({productId:t.id,categoryId:BigInt(e)})),skipDuplicates:!0}),{success:!0,data:t}}catch(e){if((0,n.A)(e)){if("P2002"===e.code)return{success:!1,error:{message:"A product with this slug already exists."}};if("P2003"===e.code)return{success:!1,error:{message:"A variant with this SKU already exists."}};if("P2025"===e.code)return{success:!1,error:{message:"Category not found."}};if("P2025"===e.code)return{success:!1,error:{message:"Brand not found."}}}return{success:!1,error:{message:"Server error. Please try again."}}}}(0,r(33331).D)([i]),(0,a.A)(i,"403eda31aed2c3a1a55e7076a1ad23ba5804e7aa91",null)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4243,4553,4999,5473,1658,310,2105,262,9464,5962,3240],()=>r(8254));module.exports=a})();